[
  {
    "name": "teams",
    "query": "CREATE TABLE IF NOT EXISTS teams (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    team_name TEXT NOT NULL,\n    join_code TEXT NOT NULL UNIQUE,\n    joined_at TEXT NOT NULL DEFAULT (CURRENT_TIMESTAMP),\n    started_at TEXT, \n    finished_at TEXT,\n    CONSTRAINT uq_team_name UNIQUE (team_name)\n);"
  },
  {
    "name": "emails",
    "query": "CREATE TABLE IF NOT EXISTS emails (\n    id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n    category TEXT NOT NULL,\n    subject TEXT,\n    sent_from TEXT,\n    sent_to TEXT,\n    date TEXT,\n    html TEXT\n);"
  },

  {
    "name": "attempts",
    "query": "CREATE TABLE IF NOT EXISTS attempts (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    team_id INTEGER NOT NULL,\n    email_id INTEGER NOT NULL,\n    selected_option INTEGER,\n    CONSTRAINT uq_attempt UNIQUE (team_id, email_id),\n    CONSTRAINT fk_team FOREIGN KEY (team_id) REFERENCES teams(id) ON DELETE CASCADE,\n    CONSTRAINT fk_email FOREIGN KEY (email_id) REFERENCES emails(id) ON DELETE CASCADE\n);"
  }
]
