# Enable Passenger
PassengerEnabled On
PassengerAppRoot /home/epcchosting/phishing-backend
PassengerAppType node
PassengerStartupFile server.js

<IfModule mod_rewrite.c>
  RewriteEngine On

  # 1. Allow static assets
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # 2. Let Passenger handle /api/* (Node backend)
  RewriteCond %{REQUEST_URI} ^/api/
  RewriteRule ^ - [L]

  # 3. For everything else, return React SPA
  RewriteRule ^ index.html [L]
</IfModule>
